# Consul å®‰è£…

## 1ã€Linuxç¯å¢ƒ

## 2ã€Windowsç¯å¢ƒ

## 3ã€Win10 + Docker ç¯å¢ƒ

1.   æ‹‰å–æœ€æ–°ç‰ˆæœ¬çš„ Consul é•œåƒ

     ```
     docker pull consul
     ```

     ![image-20220110133717157](markdown/Consulå®‰è£…ä½¿ç”¨.assets/image-20220110133717157.png)

2.   åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨

     ```
     docker run -d -p 8500:8500 --name=myConsul consul:latest agent -server -bootstrap -ui -node=1 -client='0.0.0.0'
     ```

     -   agent: è¡¨ç¤ºå¯åŠ¨ Agent è¿›ç¨‹ã€‚
     -   serverï¼šè¡¨ç¤ºå¯åŠ¨ Consul Server æ¨¡å¼
     -   bootstrapï¼šè¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹æ˜¯ Server-Leader ï¼Œæ¯ä¸ªæ•°æ®ä¸­å¿ƒåªèƒ½è¿è¡Œä¸€å°æœåŠ¡å™¨ã€‚æŠ€æœ¯è§’åº¦ä¸Šè®² Leader æ˜¯é€šè¿‡ Raft ç®—æ³•é€‰ä¸¾çš„ï¼Œä½†æ˜¯é›†ç¾¤ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶éœ€è¦ä¸€ä¸ªå¼•å¯¼ Leaderï¼Œåœ¨å¼•å¯¼ç¾¤é›†åï¼Œå»ºè®®ä¸è¦ä½¿ç”¨æ­¤æ ‡å¿—ã€‚
     -   uiï¼šè¡¨ç¤ºå¯åŠ¨ Web UI ç®¡ç†å™¨ï¼Œé»˜è®¤å¼€æ”¾ç«¯å£ 8500ï¼Œæ‰€ä»¥ä¸Šé¢ä½¿ç”¨ Docker å‘½ä»¤æŠŠ 8500 ç«¯å£å¯¹å¤–å¼€æ”¾ã€‚
     -   clientï¼šè¡¨ç¤ºå¯åŠ¨ Consul Cilent æ¨¡å¼ã€‚
     -   nodeï¼šèŠ‚ç‚¹çš„åç§°ï¼Œé›†ç¾¤ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œé»˜è®¤æ˜¯è¯¥èŠ‚ç‚¹çš„ä¸»æœºåã€‚
     -   clientï¼šconsulæœåŠ¡ä¾¦å¬åœ°å€ï¼Œè¿™ä¸ªåœ°å€æä¾›HTTPã€DNSã€RPCç­‰æœåŠ¡ï¼Œé»˜è®¤æ˜¯127.0.0.1æ‰€ä»¥ä¸å¯¹å¤–æä¾›æœåŠ¡ï¼Œå¦‚æœä½ è¦å¯¹å¤–æä¾›æœåŠ¡æ”¹æˆ0.0.0.0
     -   joinï¼šè¡¨ç¤ºåŠ å…¥åˆ°æŸä¸€ä¸ªé›†ç¾¤ä¸­å»ã€‚ å¦‚ï¼š-json=192.168.0.11ã€‚

3.   éªŒè¯

     ğŸ‘‰ [Webé¡µé¢](http://127.0.0.1:8500)

     ![image-20220110134607855](markdown/Consulå®‰è£…ä½¿ç”¨.assets/image-20220110134607855.png)

